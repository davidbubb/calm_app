:root{
  --bg: linear-gradient(180deg,#F6F4EE,#FBFBFA);
  --card-bg: #ffffff;
  --muted: #6b7680;
  --accent: #A7E7E1;
  --radius: 14px;
  --max-width: 720px;
  --font-sans: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --font-cjk: "Noto Sans CJK SC", "Noto Sans CJK TC", system-ui;
  --shadow: 0 8px 30px rgba(30,40,50,0.06);
}

*{box-sizing:border-box}
html,body{height:100%;width:100%}
body{
  margin:0;
  font-family:var(--font-sans);
  background:var(--bg);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:20px;
  position:relative;
  overflow:hidden;
}
body::before{
  content:"";
  position:fixed;
  inset:-50%;
  background: linear-gradient(120deg, rgba(167,231,225,0.5), rgba(198,210,255,0.35) 45%, rgba(255,228,220,0.3));
  background-size:300% 300%;
  filter: blur(50px) saturate(120%);
  opacity:0.6;
  z-index:-2;
  will-change:background-position;
  animation:gradientShift 35s ease-in-out infinite;
  pointer-events:none;
}
body::after{
  content:"";
  position:fixed;
  inset:-50%;
  background: radial-gradient(circle at 10% 18%, rgba(255,255,255,0.12), transparent 25%),
              radial-gradient(circle at 82% 82%, rgba(255,248,240,0.1), transparent 28%);
  z-index:-1;
  opacity:0.7;
  will-change:transform;
  animation:gentleFloat 28s ease-in-out infinite;
  pointer-events:none;
}

.app{width:100%;max-width:var(--max-width);position:relative;z-index:1}
.card{
  background:var(--card-bg);
  border-radius:var(--radius);
  padding:16px;
  box-shadow:var(--shadow);
  position:relative;
  z-index:1;
}
.card::before{
  content:"";
  position:absolute;
  inset:0;
  border-radius:inherit;
  background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(0,0,0,0.02));
  z-index:0;
  pointer-events:none;
  transform-origin:center;
  will-change:transform,opacity;
  animation:cardBreath 18s ease-in-out infinite;
}

/* top controls row */
.controls-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.controls-top .small{font-size:12px;color:var(--muted);margin-right:8px}

/* languages columns */
.languages{
  display:flex;
  gap:12px;
  align-items:stretch;
}
.col{
  flex:1;
  text-align:center;
  padding:12px;
}
.label{
  font-size:12px;
  color:var(--muted);
  margin-bottom:8px;
}
.chars{
  font-family:var(--font-cjk);
  font-size:34px;
  line-height:1.1;
  color:#1f2933;
  margin-bottom:8px;
}
.romanization{
  color:var(--muted);
  font-size:14px;
  margin-bottom:8px;
}
.play{background:none;border:1px solid #E6E9EB;padding:8px 10px;border-radius:8px;cursor:pointer}

/* English translation underneath spanning both columns */
.english{
  margin-top:14px;
  text-align:center;
}
.translation{
  font-size:18px;
  color:#24303a;
  font-weight:600;
}
.context{
  font-size:13px;
  color:var(--muted);
  margin-top:6px;
}

/* controls */
.controls{display:flex;gap:8px;justify-content:center;margin-top:14px}
.controls button{padding:8px 12px;border-radius:10px;border:1px solid #E6E9EB;background:#fff}

/* responsive: stack columns on narrow screens */
@media (max-width:540px){
  .languages{flex-direction:column}
  .chars{font-size:44px}
}

/* animations */
@keyframes gradientShift{
  0%{background-position:0% 50%;transform:scale(1)}
  50%{background-position:100%}
  50%{background-position:100% 100%}
  100%{background-position:0% 0%}
}
@keyframes gentleFloat{
  0%{transform:translate3d(-5%,-3%,0);opacity:0.65}
  25%{transform:translate3d(3%,2%,0);opacity:0.75}
  50%{transform:translate3d(5%,5%,0);opacity:0.8}
  75%{transform:translate3d(-2%,3%,0);opacity:0.72}
  100%{transform:translate3d(-5%,-3%,0);opacity:0.65}
}
@keyframes cardBreath{
  0%{transform:scale(1);opacity:1}
  50%{transform:scale(1.015);opacity:1.05}
}
.theme-controls{
  display:flex;
  gap:4px;
  justify-content:center;
  margin-top:12px;
  padding-top:12px;
  border-top:1px solid #e6e9eb;
}

/* reduced motion support */
@media (prefers-reduced-motion: reduce){
  body::before,body::after,.card::before{animation:none!important;opacity:0.35;filter:blur(25)}
}
/* theme variables */
:root{
  --theme: light;
}
body.theme-ocean::before{
  background: linear-gradient(135deg, rgba(100,200,255,0.4), rgba(30,150,200,0.35) 50%, rgba(150,200,255,0.3));
}
body.theme-ocean::after{
  background: radial-gradient(circle at 20% 30%, rgba(255,255,255,0.15), transparent 30%),
              radial-gradient(circle at 75% 70%, rgba(100,200,255,0.08), transparent 35%);
}
body.theme-sunset::before{
  background: linear-gradient(120deg, rgba(255,150,100,0.4), rgba(255,100,50,0.35) 50%, rgba(255,200,100,0.3));
}
body.theme-sunset::after{
  background: radial-gradient(circle at 15% 25%, rgba(255,255,255,0.12), transparent 28%),
              radial-gradient(circle at 80% 75%, rgba(255,150,100,0.08), transparent 32%);
}
.theme-btn{
  background:none;
  border:1px solid var(--muted);
  padding:6px 10px;
  border-radius:6px;
  cursor:pointer;
  font-size:11px;
  color:var(--muted);
  margin:0 2px;
  transition:all 0.2s;
}
.theme-btn:hover{
  background:rgba(0,0,0,0.05);
}
.theme-btn.active{
  background:var(--accent);
  border-color:var(--accent);
  color:#fff;
  font-weight:600;
}
/* reduced motion support */
@media (prefers-reduced-motion: reduce){
  body::before,body::after,.card::before{animation:none!important;opacity:0.3;filter:blur(20px)}
  *{animation:none!important;transition:none!important}
}